# FitCrew Focus - .env.example
# Bu dosyayi .env.local olarak kopyalayin ve gercek gizli anahtarlari burada saklayin.
# Sik kullanilan komutlar:
#   pnpm install --frozen-lockfile
#   pnpm prisma:migrate
#   pnpm prisma:seed
#   pnpm dev
#   pnpm test
#   make dev
#   make test
# Etiketler:
#   [ZORUNLU] -> Production/CI icin mutlaka doldurun.
#   [OPS]     -> Opsiyonel; bos kalirsa varsayilan deger kullanilir.

# --- Distribusyon ve Supabase erisimi ---
# [OPS] Vercel CLI ile deployment icin gerekli kimlik bilgileri.
VERCEL_TOKEN=
VERCEL_ORG_ID=
VERCEL_PROJECT_ID=

# [OPS] Supabase CLI ve otomasyon betikleri icin token.
SUPABASE_ACCESS_TOKEN=

# --- Uygulama cekirdegi ---
# [ZORUNLU] Node ortami (development | test | production). Lokal icin development birakin.
NODE_ENV=development

# [OPS] Uygulama taban URL'si. Varsayilan: http://localhost:3000
APP_URL=http://localhost:3000

# [ZORUNLU] Postgres servis rolu URL'si. Lokal gelisim varsayilani:
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/fitcrew_focus

# [OPS] Prisma pgbouncer baglantisi; Supabase kullaniyorsaniz onerilir.
DIRECT_URL=postgresql://postgres:postgres@localhost:5432/fitcrew_focus?pgbouncer=true&connection_limit=1

# Supabase production icin ornek:
# DATABASE_URL=postgresql://postgres:<SUPABASE_SERVICE_ROLE_PASSWORD>@db.<PROJECT_REF>.supabase.co:5432/postgres
# DIRECT_URL=postgresql://postgres:<SUPABASE_SERVICE_ROLE_PASSWORD>@db.<PROJECT_REF>.supabase.co:5432/postgres?pgbouncer=true&connection_limit=1

# --- Redis ve kuyruklar ---
# [OPS] Rate limit ve bildirim cache'i icin Redis URL'si. Varsayilan yok.
REDIS_URL=redis://localhost:6379

# --- Object storage / S3 uyumlu servis ---
# [OPS] MinIO veya Supabase Storage icin uclari belirtin.
S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_ACCESS_KEY=local-access-key
S3_SECRET_KEY=local-secret
S3_BUCKET=fitcrew-focus

# --- Kimlik dogrulama ---
# [ZORUNLU] En az 32 karakterlik JWT gizli anahtari. Varsayilan lokal icin guncel.
JWT_SECRET=local-dev-secret-key-please-change-123456

# [OPS] JWT yasam suresi degerleri. Varsayilanlar: 15m / 7d
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# --- AI entegrasyonu ---
# [OPS] OpenAI anahtari ve model adi. Lokal test icin bos birakilabilir.
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

# [OPS] Cron tetikleyicisi icin gizli anahtar.
AI_COMMENT_CRON_SECRET=local-cron-secret

# --- Transactional e-posta / Waitlist ---
# [OPS] Resend API anahtari; davet e-postalari ve bekleme listesi icin kullanilir.
RESEND_API_KEY=
# [OPS] Gonderen e-posta adresi (ornek: no-reply@fitcrew.local).
RESEND_FROM_EMAIL=no-reply@fitcrew.local
# [OPS] Resend waitlist/ audience kimligi (opt-in kaydi icin).
RESEND_WAITLIST_AUDIENCE_ID=
# [OPS] Waitlist webhook imza dogrulama gizlisi.
WAITLIST_WEBHOOK_SECRET=

# --- Rate limit tanimlari ---
# [OPS] Varsayilan degerler: 10 / 20 / 3
RATELIMIT_POSTS_PER_MIN=10
RATELIMIT_COMMENTS_PER_MIN=20
RATELIMIT_SPINS_PER_DAY=3

# --- Treat Wheel ve motivasyon ayarlari ---
# [OPS] Sure, limit ve agirlik degerleri. Varsayilanlar config.ts dosyasinda aciklanir.
TREAT_SPIN_COOLDOWN_DAYS=4
TREAT_WEEKLY_LIMIT=1
EMA_WINDOW_DAYS=7
TREAT_MIN_WEIGHT_LOSS_KG=0.8
TREAT_MIN_WEIGHT_LOSS_PERCENT=1
TREAT_MIN_MEASUREMENT_DAYS=4
BONUS_WALK_DISTRIBUTION=25,25,20,15,10,5

# --- Plateau ve yeni kullanici bonuslari ---
# [OPS] Boolean degerleri kucuk harf true/false olarak yazin.
PLATEAU_SPIN_ENABLED=true
PLATEAU_DAYS=14
PLATEAU_MIN_MEASUREMENTS=10
PLATEAU_EMA_RANGE_KG=0.3

NEW_USER_SPIN_ENABLED=true
NEW_USER_DAYS=7
NEW_USER_MIN_MEASUREMENTS=5
NEW_USER_MIN_WEIGHT_LOSS_KG=0.3

# --- Gelistirme kolayliklari ---
# [OPS] Env dogrulamasini gecici olarak kapatmak icin true yapin.
SKIP_ENV_VALIDATION=false
